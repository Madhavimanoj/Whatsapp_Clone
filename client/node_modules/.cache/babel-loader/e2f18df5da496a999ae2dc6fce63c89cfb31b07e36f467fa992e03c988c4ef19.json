{"ast":null,"code":"import{useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ChatWindow=_ref=>{let{chat,typing}=_ref;const scrollRef=useRef(null);useEffect(()=>{var _scrollRef$current;(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:\"smooth\"});},[chat.messages]);const formatTime=isoTime=>{const time=new Date((isoTime===null||isoTime===void 0?void 0:isoTime.$date)||isoTime);return isNaN(time.getTime())?\"Invalid Date\":time.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};return/*#__PURE__*/_jsxs(_Fragment,{children:[chat.messages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble \".concat(msg.direction===\"outgoing\"?\"you\":\"other\"),children:[/*#__PURE__*/_jsx(\"div\",{children:msg.message}),/*#__PURE__*/_jsx(\"div\",{className:\"timestamp\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"meta\",children:[formatTime(msg.timestamp),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:msg.status===\"read\"?\"blue\":\"gray\"},children:msg.status})]})})]},index)),typing&&/*#__PURE__*/_jsx(\"div\",{className:\"typing-indicator\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Typing...\"})}),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef})]});};export default ChatWindow;","map":{"version":3,"names":["useEffect","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatWindow","_ref","chat","typing","scrollRef","_scrollRef$current","current","scrollIntoView","behavior","messages","formatTime","isoTime","time","Date","$date","isNaN","getTime","toLocaleTimeString","hour","minute","children","map","msg","index","className","concat","direction","message","timestamp","style","color","status","ref"],"sources":["C:/Users/madha/project/client/src/components/ChatWindow.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\nconst ChatWindow = ({ chat, typing }) => {\r\n  const scrollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [chat.messages]);\r\n\r\n const formatTime = (isoTime) => {\r\n  const time = new Date(isoTime?.$date || isoTime); \r\n  return isNaN(time.getTime()) ? \"Invalid Date\" : time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n};\r\n\r\n\r\n  return (\r\n    <>\r\n      {chat.messages.map((msg, index) => (\r\n        <div\r\n          key={index}\r\n          className={`message-bubble ${msg.direction === \"outgoing\" ? \"you\" : \"other\"}`}\r\n        >\r\n          <div>{msg.message}</div>\r\n          <div className=\"timestamp\">\r\n            <span className=\"meta\">\r\n              {formatTime(msg.timestamp)}{\" \"}\r\n              <span style={{ color: msg.status === \"read\" ? \"blue\" : \"gray\" }}>\r\n                {msg.status}\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      {typing && (\r\n        <div className=\"typing-indicator\">\r\n          <em>Typing...</em>\r\n        </div>\r\n      )}\r\n\r\n      <div ref={scrollRef} />\r\n      \r\n\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1C,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAsB,IAArB,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAAF,IAAA,CAClC,KAAM,CAAAG,SAAS,CAAGX,MAAM,CAAC,IAAI,CAAC,CAE9BD,SAAS,CAAC,IAAM,KAAAa,kBAAA,CACd,CAAAA,kBAAA,CAAAD,SAAS,CAACE,OAAO,UAAAD,kBAAA,iBAAjBA,kBAAA,CAAmBE,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CAC3D,CAAC,CAAE,CAACN,IAAI,CAACO,QAAQ,CAAC,CAAC,CAEpB,KAAM,CAAAC,UAAU,CAAIC,OAAO,EAAK,CAC/B,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAAF,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEG,KAAK,GAAIH,OAAO,CAAC,CAChD,MAAO,CAAAI,KAAK,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,CAAG,cAAc,CAAGJ,IAAI,CAACK,kBAAkB,CAAC,EAAE,CAAE,CAAEC,IAAI,CAAE,SAAS,CAAEC,MAAM,CAAE,SAAU,CAAC,CAAC,CACrH,CAAC,CAGC,mBACEtB,KAAA,CAAAE,SAAA,EAAAqB,QAAA,EACGlB,IAAI,CAACO,QAAQ,CAACY,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBAC5B1B,KAAA,QAEE2B,SAAS,mBAAAC,MAAA,CAAoBH,GAAG,CAACI,SAAS,GAAK,UAAU,CAAG,KAAK,CAAG,OAAO,CAAG,CAAAN,QAAA,eAE9EzB,IAAA,QAAAyB,QAAA,CAAME,GAAG,CAACK,OAAO,CAAM,CAAC,cACxBhC,IAAA,QAAK6B,SAAS,CAAC,WAAW,CAAAJ,QAAA,cACxBvB,KAAA,SAAM2B,SAAS,CAAC,MAAM,CAAAJ,QAAA,EACnBV,UAAU,CAACY,GAAG,CAACM,SAAS,CAAC,CAAE,GAAG,cAC/BjC,IAAA,SAAMkC,KAAK,CAAE,CAAEC,KAAK,CAAER,GAAG,CAACS,MAAM,GAAK,MAAM,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAX,QAAA,CAC7DE,GAAG,CAACS,MAAM,CACP,CAAC,EACH,CAAC,CACJ,CAAC,GAXDR,KAYF,CACN,CAAC,CACDpB,MAAM,eACLR,IAAA,QAAK6B,SAAS,CAAC,kBAAkB,CAAAJ,QAAA,cAC/BzB,IAAA,OAAAyB,QAAA,CAAI,WAAS,CAAI,CAAC,CACf,CACN,cAEDzB,IAAA,QAAKqC,GAAG,CAAE5B,SAAU,CAAE,CAAC,EAGvB,CAAC,CAEP,CAAC,CAED,cAAe,CAAAJ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}